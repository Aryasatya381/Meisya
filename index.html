<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Heii Meii üíå</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --pink:#f8a8d8;
  --hot:#d63384;
  --bg-grad: linear-gradient(135deg,#ffe4ec,#e0d4ff,#d0f0ff);
  --card-bg: rgba(255,255,255,.98);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:"Poppins",sans-serif;background:var(--bg-grad);color:var(--hot);
  -webkit-font-smoothing:antialiased;overflow:auto;
}

/* Page + card */
.page{min-height:100vh;display:none;align-items:center;justify-content:center;flex-direction:column;text-align:center;opacity:0;transition:opacity .6s}
.page.show{display:flex;opacity:1}
.card{width:92%;max-width:560px;background:var(--card-bg);border:4px solid var(--pink);border-radius:22px;padding:18px;box-shadow:0 12px 36px rgba(0,0,0,.08);position:relative;overflow:visible}

/* Header */
.header{margin-bottom:6px;text-align:center}
.header h2{margin:0;font-size:22px;font-weight:800}
.header p{margin:8px 0 0 0;color:#d63384;font-weight:600}

/* PIN page */
.pin-row{display:flex;justify-content:center;margin-top:8px}
input.pin{font-size:18px;padding:8px 12px;border:2px solid var(--pink);border-radius:12px;text-align:center;outline:none}
.btn{margin-top:12px;padding:10px 16px;border-radius:12px;border:none;background:var(--pink);color:#fff;font-weight:600;cursor:pointer}
.btn:hover{transform:scale(1.03);background:var(--hot)}

/* Music button */
.music-btn{position:absolute; top:14px; right:18px; width:54px; height:54px; border-radius:50%; background:var(--pink); color:#fff; border:none; display:flex;align-items:center;justify-content:center;font-size:20px; cursor:pointer; box-shadow:0 8px 20px rgba(214,51,132,0.08);}
.music-btn.playing{background:var(--hot)}

/* Slider container (always square) */
.slider-container{
  width:100%;
  aspect-ratio:1/1;
  border-radius:16px;
  border:3px solid var(--pink);
  background:#fff;
  overflow:hidden;
  margin:14px auto 6px;
  box-shadow:0 8px 28px rgba(0,0,0,0.06);
  position:relative;
}
.slider{width:100%;height:100%;position:relative}
.slide{position:absolute;inset:0;opacity:0;transition:opacity .45s ease;display:flex;align-items:center;justify-content:center;padding:0}
.slide.active{opacity:1}

/* single image */
.slide img { width:100%; height:100%; object-fit:cover; border-radius:12px; display:block }

/* .double: two portrait 1:1 images side-by-side inside the square container
   -> FULL left & right (each 50%), no inner rounded corners so they look edge-to-edge */
.slide.double{
  display:flex;
  gap:0;
  align-items:stretch;
  justify-content:space-between;
  padding:0;
}
.slide.double .img-box{
  width:50%;
  aspect-ratio:1/1;
  overflow:hidden;
  border-radius:0; /* inner boxes flush to each other */
  background:#eee;
}
.slide.double .img-box img{
  width:100%; height:100%; object-fit:cover; display:block;
}

/* closing slide: FULL BOX left-right (edge-to-edge inside slider container) */
.slide.closing{
  position:absolute;
  inset:0; /* fill container */
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#ff9ad6,#ffd6a5);
  color:#fff;
  padding:0;
  margin:0;
  border-radius:0; /* container has rounded corners */
}
/* ensure closing content sits flush left-right but with comfortable inner padding */
.closing-inner{
  width:100%;
  padding:28px 20px;
  box-sizing:border-box;
  text-align:center;
}
.closing-inner h3{ font-size:30px; margin:0 0 8px 0; font-weight:800 }
.closing-inner p{ margin:0; color:rgba(255,255,255,0.95); line-height:1.6; word-break:break-word; }

/* centered emoji briefly appearing */
.center-emoji{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) scale(.6); font-size:56px; opacity:0; transition:transform .25s ease,opacity .25s; pointer-events:none; }
.center-emoji.show{ opacity:1; transform:translate(-50%,-50%) scale(1) }

/* Dots + description below */
.controls-wrapper{ width:100%; display:flex; flex-direction:column; align-items:center; margin-top:12px; gap:10px }
.controls{ display:flex; gap:8px; justify-content:center }
.dot{ width:12px; height:12px; border-radius:50%; background:#f8c8e8; cursor:pointer; transition:transform .12s,background .12s }
.dot.active{ background:var(--hot); transform:scale(1.3) }
.desc-below{ width:92%; text-align:left; color:var(--hot); font-weight:600; font-size:16px; line-height:1.6; margin:0 auto }

/* Floating emojis */
.falling-emoji{ position:fixed; top:-8vh; pointer-events:none; font-size:18px; animation:fall linear forwards}
@keyframes fall{ to{ transform:translateY(120vh) rotate(360deg); opacity:0 } }

/* fixed outside arrows */
.fixed-arrow{ position:fixed; width:54px; height:54px; border-radius:50%; background:rgba(255,255,255,0.96); border:3px solid var(--pink); display:flex;align-items:center;justify-content:center;font-size:20px;color:var(--hot); box-shadow:0 12px 28px rgba(214,51,132,0.06); cursor:pointer; z-index:120; transition:transform .15s,opacity .15s; }
.fixed-arrow:hover{ transform:scale(1.05) }
#fixedPrev{ left:18px; bottom:18px }
#fixedNext{ right:18px; bottom:18px }

/* MOBILE ADJUSTMENTS */
@media(max-width:520px){
  .card{ padding-bottom:120px } /* room for description / arrows */
  .desc-below{ font-size:15px }
  /* mobile grid: make slider a grid so .double shows left-right portrait 1:1 inside the square */
  .slider{
    display:grid;
    grid-template-columns: 1fr 1fr;
    grid-auto-rows: 1fr;
    gap:0; /* double should be edge-to-edge */
    padding:0;
    align-items:stretch;
    height:100%;
  }
  /* make each slide a grid cell */
  .slide{ position:relative; opacity:1 !important; transition:none; border-radius:0; overflow:hidden; height:100%; }
  /* keep .double as side-by-side (two img-box inside grid cell) */
  .slide.double{ display:flex; padding:0; gap:0; }
  .slide.double .img-box{ width:50%; } /* aspect-ratio keeps them square */
  /* closing slide should span full width inside grid */
  .slide.closing{ grid-column:1 / -1; height:auto; display:flex; align-items:center; justify-content:center; padding:0; border-radius:12px; }
  .slide.closing .closing-inner{ padding:20px 16px }
  .fixed-arrow{ width:44px; height:44px; font-size:18px; border-width:2px }
}

/* helper */
.hidden{ display:none !important }
</style>
</head>
<body>

<!-- PAGE 1 -->
<div id="page1" class="page show">
  <div class="card" style="max-width:480px">
    <h2>Masukkan PIN</h2>
    <div class="pin-row"><input id="pinInput" class="pin" type="password" maxlength="4" placeholder="****" /></div>
    <div style="display:flex;gap:10px;justify-content:center;margin-top:12px">
      <button class="btn" onclick="checkPin()">Cek PIN</button>
      <button id="playBtn" class="btn" onclick="playAndNext()" style="display:none">Putar Musik & Masuk</button>
    </div>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page">
  <div class="card">
    <div class="header">
      <h2>Dear Meisya üíå</h2>
      <p>Heii Meii, ini web kecil buatan aku sendiri, isinya kenangan dan cerita lucu tentang kita üíï</p>
    </div>

    <button class="music-btn" id="musicBtn" onclick="toggleMusic(music1,this)" aria-label="Putar musik">üéµ</button>

    <div class="slider-container" id="sliderContainer" aria-roledescription="carousel">
      <div class="slider" id="slider">
        <!-- slide 1 single -->
        <div class="slide active"><img src="img1.jpeg" alt="Foto 1" loading="lazy"></div>

        <!-- slide 2 double (portrait 1:1 left-right) -->
        <div class="slide double">
          <div class="img-box"><img src="img2a.jpeg" alt="Foto 2a" loading="lazy"></div>
          <div class="img-box"><img src="img2b.jpeg" alt="Foto 2b" loading="lazy"></div>
        </div>

        <!-- slide 3 single -->
        <div class="slide"><img src="img3.jpeg" alt="Foto 3" loading="lazy"></div>

        <!-- slide 4 single -->
        <div class="slide"><img src="img4.jpeg" alt="Foto 4" loading="lazy"></div>

        <!-- slide 5 double -->
        <div class="slide double">
          <div class="img-box"><img src="img5a.jpeg" alt="Foto 5a" loading="lazy"></div>
          <div class="img-box"><img src="img5b.jpeg" alt="Foto 5b" loading="lazy"></div>
        </div>

        <!-- slide 6 double -->
        <div class="slide double">
          <div class="img-box"><img src="img6a.jpeg" alt="Foto 6a" loading="lazy"></div>
          <div class="img-box"><img src="img6b.jpeg" alt="Foto 6b" loading="lazy"></div>
        </div>

        <!-- CLOSING: full box left-right -->
        <div class="slide closing">
          <div class="closing-inner">
            <h3>Terima Kasih, Meisya ‚ù§Ô∏è</h3>
            <p>udahh mauu bukaa web inii yahh dan udah mauu bacaa sampai akhir, akuu bikin web inii khusus buat meisyaa dan niat akuu untuk ngehibur meisyaa bahkan kalau bisa bikin kamuu bahagia, maaf yahh mungkinn ini masih kurang menarik tapii akuu bust inii just only for YOUUUUU ü´∂ü´∂‚ù§Ô∏è‚ù§Ô∏è</p>
          </div>
          <div id="centerEmoji" class="center-emoji">ü•∞</div>
        </div>
      </div>
    </div>

    <!-- dots + description -->
    <div class="controls-wrapper">
      <div class="controls" id="dots"></div>
      <div id="descBox" class="desc-below"></div>
    </div>

    <div style="height:6px"></div>
    <div style="font-size:12px;color:#666;position:relative">22-10-2025 Yogyakarta</div>
  </div>
</div>

<!-- Fixed arrows outside card -->
<button id="fixedPrev" class="fixed-arrow" aria-label="Sebelumnya">‚üµ</button>
<button id="fixedNext" class="fixed-arrow" aria-label="Selanjutnya">‚ü∂</button>

<!-- audio -->
<audio id="music1" preload="auto" loop><source src="lagu1.mp3" type="audio/mpeg"></audio>

<script>
/* PIN */
const correctPin = "1704";
function checkPin(){
  const val = document.getElementById('pinInput').value.trim();
  if(val === correctPin){
    document.getElementById('playBtn').style.display = 'inline-block';
    alert("PIN benar! Klik 'Putar Musik & Masuk'.");
  } else {
    alert("PIN salah, coba lagi ya üíï");
    document.getElementById('playBtn').style.display = 'none';
  }
}
function playAndNext(){
  music1.play().catch(()=>{});
  switchPage(2);
}
function switchPage(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('show'));
  document.getElementById('page'+n).classList.add('show');
  createHeartsBurst();
}

/* Slider */
const slides = Array.from(document.querySelectorAll('.slide'));
const dotsContainer = document.getElementById('dots');
const descBox = document.getElementById('descBox');
let current = 0;
const descriptions = [
  "Kamu inget ini kan Meii, itu awal banget kita deket hihi ‚ò∫Ô∏è waktu aku nawarin nemenin kamu liat komang, untung kamu mau hehehe üíï",
  "Waktu ini lucu banget Meii, dua foto bareng yang bikin ngakak tiap liat üòÜ",
  "Kamu masih inget waktu itu kamu jadi MC di wisudaan aku? Sumpah kamu lucu banget waktu bilang bajumu kebesaran ü§£ dan suaramu cantik banget ü•∞",
  "Yang ini photobox pertama kitaaa! Kita bingung pose gimana üò≠ tapi lucu banget hasilnya üòç",
  "iyaa meii inii jugaa kamuu masih ingett kann pas kitaa awal nonton sepak bolaa ituu pss sleman ituuu habis ituu meisyaa ngiranya akuu cape padahal mah engga meii aku cumann......üíñ",
  "Ini pas konser Origin! Aku masih inget kamu jatuh gara-gara orang ganggu, aku langsung kesel banget üò† tapi kamu malah nenangin aku üòö",
  "" // penutup (closing)
];

// We'll allow navigation across all slides INCLUDING the closing slide.
const totalSlides = slides.length;        // includes closing
const mainCount = totalSlides - 1;        // exclude closing for dot generation

// generate dots for main slides only
for(let i=0;i<mainCount;i++){
  const d = document.createElement('span');
  d.className = i===0 ? 'dot active' : 'dot';
  d.addEventListener('click', ()=> show(i));
  dotsContainer.appendChild(d);
}
const dots = Array.from(document.querySelectorAll('.dot'));

function show(i){
  // normalize index to allow reaching closing (index === totalSlides - 1)
  if(i < 0) i = totalSlides - 1;
  if(i >= totalSlides) i = 0;

  // Desktop: single-slide behavior
  if(window.innerWidth > 520){
    slides.forEach((s,idx)=> s.classList.toggle('active', idx===i));
    // update dots highlight: only for main slides
    dots.forEach((d,idx)=> d.classList.toggle('active', idx===i));
    // description: hide when closing
    if(i === totalSlides - 1){ // closing
      descBox.style.display = 'none';
      // show center emoji briefly
      const centerEmoji = document.getElementById('centerEmoji');
      centerEmoji.classList.remove('show');
      setTimeout(()=> centerEmoji.classList.add('show'), 40);
      setTimeout(()=> centerEmoji.classList.remove('show'), 700);
      createClosingBurst();
    } else {
      descBox.style.display = 'block';
      descBox.textContent = descriptions[i] || '';
    }
    current = i;
  } else {
    // Mobile: grid mode. keep grid visible but highlight the chosen index and update desc.
    slides.forEach((s,idx)=> s.classList.toggle('active', idx===i));
    if(i === totalSlides - 1){
      descBox.style.display = 'none';
      const centerEmoji = document.getElementById('centerEmoji');
      centerEmoji.classList.remove('show');
      setTimeout(()=> centerEmoji.classList.add('show'), 40);
      setTimeout(()=> centerEmoji.classList.remove('show'), 700);
      createClosingBurst();
    } else {
      descBox.style.display = 'block';
      descBox.textContent = descriptions[i] || '';
    }
    const dotIndex = i < mainCount ? i : mainCount - 1;
    dots.forEach((d,idx)=> d.classList.toggle('active', idx===dotIndex));
    current = i;
  }
}

function next(){ show((current + 1) % totalSlides); }
function prev(){ show((current - 1 + totalSlides) % totalSlides); }

// hook fixed buttons
document.getElementById('fixedNext').addEventListener('click', next);
document.getElementById('fixedPrev').addEventListener('click', prev);

// keyboard navigation
document.addEventListener('keydown', e=>{
  if(e.key === 'ArrowRight') next();
  if(e.key === 'ArrowLeft') prev();
});

// init
show(0);

/* Falling emoji (throttled) */
let activeEmojis = 0;
const MAX_DESKTOP = 8, MAX_MOBILE = 4;
const isMobile = window.innerWidth <= 520 || /Mobi|Android/i.test(navigator.userAgent);
const SPAWN_INTERVAL = isMobile ? 1400 : 900;
let spawnTimer = null;
function spawnFallingEmoji(){
  if(activeEmojis >= (isMobile?MAX_MOBILE:MAX_DESKTOP)) return;
  activeEmojis++;
  const el = document.createElement('div');
  el.textContent = Math.random()>0.6? '‚ú®':'üíñ';
  el.className = 'falling-emoji';
  el.style.left = (5 + Math.random()*90) + '%';
  el.style.fontSize = (12 + Math.random()*20) + 'px';
  const dur = (3 + Math.random()*2);
  el.style.animationDuration = dur + 's';
  document.body.appendChild(el);
  setTimeout(()=>{ el.remove(); activeEmojis--; }, (dur*1000)+200);
}
function startEmojis(){ if(spawnTimer) return; spawnTimer = setInterval(spawnFallingEmoji, SPAWN_INTERVAL); }
if(!isMobile) startEmojis(); else setTimeout(startEmojis, 1200);
function createClosingBurst(){ for(let i=0;i<10;i++) setTimeout(spawnFallingEmoji, i*80); }
function createHeartsBurst(){ for(let i=0;i<12;i++){ setTimeout(()=>{ const h=document.createElement('div'); h.textContent='üíñ'; h.style.position='fixed'; h.style.left=(10+Math.random()*80)+'%'; h.style.top=(30+Math.random()*40)+'%'; h.style.fontSize=(12+Math.random()*20)+'px'; h.style.opacity='0'; h.style.transition='all .6s ease'; document.body.appendChild(h); setTimeout(()=>{ h.style.opacity='1'; h.style.transform='translateY(-50px) scale(1.02)'; }, 80*i); setTimeout(()=>h.remove(), 1200 + i*40); }, i*60); } }

/* music toggle */
const music1 = document.getElementById('music1');
function toggleMusic(audio, btn){
  if(audio.paused){ audio.play().catch(()=>{}); btn.classList.add('playing'); }
  else{ audio.pause(); btn.classList.remove('playing'); }
}
</script>
</body>
</html>
