<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Heii Meii üíå</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --pink:#f8a8d8;
  --hot:#d63384;
  --bg-grad: linear-gradient(135deg,#ffe4ec,#e0d4ff,#d0f0ff);
  --card-bg: rgba(255,255,255,.98);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:"Poppins",sans-serif;
  background:var(--bg-grad);
  color:var(--hot);
  -webkit-font-smoothing:antialiased;
  overflow:auto;
}
/* Page + card */
.page{min-height:100vh;display:none;align-items:center;justify-content:center;flex-direction:column;text-align:center;opacity:0;transition:opacity .6s}
.page.show{display:flex;opacity:1}
.card{width:92%;max-width:560px;background:var(--card-bg);border:4px solid var(--pink);border-radius:22px;padding:18px;box-shadow:0 12px 36px rgba(0,0,0,.08);position:relative;overflow:visible}
/* Header */
.header{margin-bottom:6px;text-align:center}
.header h2{margin:0;font-size:22px;font-weight:800}
.header p{margin:8px 0 0 0;color:#d63384;font-weight:600}
/* PIN page */
.pin-row{display:flex;justify-content:center;margin-top:8px}
input.pin{font-size:18px;padding:8px 12px;border:2px solid var(--pink);border-radius:12px;text-align:center;outline:none}
.btn{margin-top:12px;padding:10px 16px;border-radius:12px;border:none;background:var(--pink);color:#fff;font-weight:600;cursor:pointer}
.btn:hover{transform:scale(1.03);background:var(--hot)}
/* Music button */
.music-btn{position:absolute; top:14px; right:18px; width:54px; height:54px; border-radius:50%; background:var(--pink); color:#fff; border:none; display:flex;align-items:center;justify-content:center;font-size:20px; cursor:pointer; box-shadow:0 8px 20px rgba(214,51,132,0.08);}
.music-btn.playing{background:var(--hot)}
/* Slider container */
.slider-container{ width:100%; aspect-ratio:1/1; border-radius:16px; border:3px solid var(--pink); background:#fff; overflow:hidden; margin:14px auto 6px; box-shadow:0 8px 28px rgba(0,0,0,0.06); position:relative; }
.slider{width:100%;height:100%;position:relative}
.slide{position:absolute;inset:0;opacity:0;transition:opacity .45s ease;display:flex;align-items:center;justify-content:center;padding:0}
.slide.active{opacity:1}
/* single image */
.slide img { width:100%; height:100%; object-fit:cover; border-radius:12px; display:block }
/* .double: two portrait 1:1 images side-by-side inside the square container */
.slide.double{ display:flex; gap:0; align-items:stretch; justify-content:space-between; padding:0; }
.slide.double .img-box{ width:50%; aspect-ratio:1/1; overflow:hidden; border-radius:0; background:#eee; }
.slide.double .img-box img{ width:100%; height:100%; object-fit:cover; display:block; }
/* closing slide: FULL BOX left-right */
.slide.closing{ position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; background:linear-gradient(135deg,#ff9ad6,#ffd6a5); color:#fff; padding:0; margin:0; border-radius:0; }
.closing-inner{ width:100%; padding:28px 20px; box-sizing:border-box; text-align:center; }
.closing-inner h3{ font-size:30px; margin:0 0 8px 0; font-weight:800 }
.closing-inner p{ margin:0; color:rgba(255,255,255,0.95); line-height:1.6; word-break:break-word; }
/* centered emoji briefly appearing */
.center-emoji{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%) scale(.6); font-size:56px; opacity:0; transition:transform .25s ease,opacity .25s; pointer-events:none; }
.center-emoji.show{ opacity:1; transform:translate(-50%,-50%) scale(1) }
/* dots + description */
.controls-wrapper{ width:100%; display:flex; flex-direction:column; align-items:center; margin-top:12px; gap:10px }
.controls{ display:flex; gap:8px; justify-content:center }
.dot{ width:12px; height:12px; border-radius:50%; background:#f8c8e8; cursor:pointer; transition:transform .12s,background .12s }
.dot.active{ background:var(--hot); transform:scale(1.3) }
.desc-below{ width:92%; text-align:left; color:var(--hot); font-weight:600; font-size:16px; line-height:1.6; margin:0 auto }
/* Floating emojis */
.falling-emoji{ position:fixed; top:-8vh; pointer-events:none; font-size:18px; animation:fall linear forwards}
@keyframes fall{ to{ transform:translateY(120vh) rotate(360deg); opacity:0 } }
/* fixed outside arrows */
.fixed-arrow{ position:fixed; width:54px; height:54px; border-radius:50%; background:rgba(255,255,255,0.96); border:3px solid var(--pink); display:flex;align-items:center;justify-content:center;font-size:20px;color:var(--hot); box-shadow:0 12px 28px rgba(214,51,132,0.06); cursor:pointer; z-index:120; transition:transform .15s,opacity .15s; }
.fixed-arrow:hover{ transform:scale(1.05) }
#fixedPrev{ left:18px; bottom:18px }
#fixedNext{ right:18px; bottom:18px }
/* MOBILE ADJUSTMENTS */
@media(max-width:520px){
  .card{ padding-bottom:120px }
  .desc-below{ font-size:15px }
  .slider{ display:grid; grid-template-columns: 1fr 1fr; grid-auto-rows: 1fr; gap:0; align-items:stretch; height:100%; }
  .slide{ position:relative; opacity:1 !important; transition:none; border-radius:0; overflow:hidden; height:100%; }
  .slide.double{ display:flex; padding:0; gap:0; }
  .slide.double .img-box{ width:50%; }
  .slide.closing{ grid-column:1 / -1; height:auto; display:flex; align-items:center; justify-content:center; padding:0; border-radius:12px; }
  .slide.closing .closing-inner{ padding:20px 16px }
  .fixed-arrow{ width:44px; height:44px; font-size:18px; border-width:2px }
}
/* helper */
.hidden{ display:none !important }
</style>
</head>
<body>

<!-- PAGE 1 -->
<div id="page1" class="page show">
  <div class="card" style="max-width:480px">
    <h2>Masukkan PIN</h2>
    <div class="pin-row">
      <input id="pinInput" class="pin" type="password" maxlength="4" placeholder="****" />
    </div>
    <div style="display:flex;gap:10px;justify-content:center;margin-top:12px">
      <button class="btn" onclick="checkPin()">Cek PIN</button>
      <button id="playBtn" class="btn" onclick="playAndNext()" style="display:none">Putar Musik & Masuk</button>
    </div>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page">
  <div class="card">
    <div class="header">
      <h2>Dear Meisya üíå</h2>
      <p>Heii Meii, ini web kecil buatan aku sendiri...</p>
    </div>
    <button class="music-btn" id="musicBtn" onclick="toggleMusic(music1,this)" aria-label="Putar musik">üéµ</button>

    <div class="slider-container" id="sliderContainer" aria-roledescription="carousel">
      <div class="slider" id="slider">
        <!-- slides here same as original... -->
        <div class="slide closing">
          <div class="closing-inner">
            <h3>Makasiii ya!!,Meii ‚ù§Ô∏è</h3>
            <p>...</p>
            <button id="toPage3Btn" class="btn" style="margin-top:12px;">Selanjutnya ‚Üí</button>
          </div>
          <div id="centerEmoji" class="center-emoji">ü•∞</div>
        </div>
      </div>
    </div>

    <!-- dots + description -->
    <div class="controls-wrapper">
      <div class="controls" id="dots"></div>
      <div id="descBox" class="desc-below"></div>
    </div>
  </div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page">
  <div class="card">
    <div class="header">
      <h2>Bunga Mekar untuk Meii üå∏</h2>
      <p>Klik tombol di bawah untuk munculin foto tambahan üíñ</p>
    </div>

    <canvas id="flowerCanvas" width="400" height="400" style="border:3px solid var(--pink); border-radius:16px; display:block; margin:0 auto;"></canvas>

    <button id="showPhotoBtn" class="btn" style="margin-top:16px;">Tampilkan Foto Tambahan</button>

    <div id="extraPhotoContainer" style="margin-top:14px; display:none;">
      <img src="img_extra.jpeg" alt="Foto Tambahan" style="width:100%; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,.08)">
    </div>
  </div>
</div>

<!-- Fixed arrows -->
<button id="fixedPrev" class="fixed-arrow" aria-label="Sebelumnya">‚üµ</button>
<button id="fixedNext" class="fixed-arrow" aria-label="Selanjutnya">‚ü∂</button>

<!-- audio -->
<audio id="music1" preload="auto" loop><source src="lagu1.mp3" type="audio/mpeg"></audio>

<script>
/* PIN */
const correctPin = "1704";
function checkPin(){
  const val = document.getElementById('pinInput').value.trim();
  if(val === correctPin){
    document.getElementById('playBtn').style.display = 'inline-block';
    alert("PIN benar meisyaa cantikk!! Klik 'Putar Musik & Masuk'.");
  } else {
    alert("PIN salah cantikk!!, coba lagi ya meisyaa üíï");
    document.getElementById('playBtn').style.display = 'none';
  }
}
function playAndNext(){ music1.play().catch(()=>{}); switchPage(2); }

/* Switch Page */
function switchPage(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('show'));
  document.getElementById('page'+n).classList.add('show');
  if(n===3) startFlowerAnimation();
}

/* Music toggle */
const music1 = document.getElementById('music1');
function toggleMusic(audio, btn){
  if(audio.paused){ audio.play().catch(()=>{}); btn.classList.add('playing'); }
  else{ audio.pause(); btn.classList.remove('playing'); }
}

/* Slider, dots, arrows... (kopi dari codingan kamu, tidak dihapus) */

/* Tombol Page 3 dari closing slide */
document.getElementById('toPage3Btn').addEventListener('click', ()=> switchPage(3));

/* Tombol foto tambahan */
const showPhotoBtn = document.getElementById('showPhotoBtn');
const extraPhotoContainer = document.getElementById('extraPhotoContainer');
showPhotoBtn.addEventListener('click', ()=>{
  extraPhotoContainer.style.display = 'block';
  extraPhotoContainer.scrollIntoView({behavior:'smooth'});
});

/* FULL Animasi bunga mekar */
let flowerAnimating = false;
function startFlowerAnimation(){
  if(flowerAnimating) return;
  flowerAnimating = true;

  const canvas = document.getElementById('flowerCanvas');
  const ctx = canvas.getContext('2d');
  const centerX = canvas.width/2;
  const centerY = canvas.height/2;

  const numPetals = 8;
  const petals = [];

  for(let i=0;i<numPetals;i++){
    petals.push({
      angle: (Math.PI*2/numPetals)*i,
      radius: 0,
      maxRadius: 60 + Math.random()*30,
      growthSpeed: 0.3 + Math.random()*0.2,
      delay: i * 15,
      color: `hsl(${200 + i*15}, 70%, 75%)`
    });
  }

  let frame = 0;

  function drawFlower(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    petals.forEach(p=>{
      if(frame >= p.delay && p.radius < p.maxRadius){
        p.radius += p.growthSpeed;
      }

      ctx.save();
      ctx.translate(centerX, centerY);
      ctx.rotate(p.angle);

      ctx.beginPath();
      ctx.moveTo(0,0);
      ctx.quadraticCurveTo(p.radius/2, -p.radius, p.radius,0);
      ctx.quadraticCurveTo(p.radius/2, p.radius, 0,0);
      ctx.fillStyle = p.color;
      ctx.fill();
      ctx.restore();
    });

    ctx.beginPath();
    ctx.arc(centerX, centerY, 12, 0, Math.PI*2);
    ctx.fillStyle = "#ffd1dc";
    ctx.fill();

    frame++;
    requestAnimationFrame(drawFlower);
  }
  drawFlower();
}
</script>
</body>
</html>
